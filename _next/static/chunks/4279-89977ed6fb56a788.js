"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4279],{25854:function(e,t,a){var n=a(57437);a(2265),t.Z=e=>{let{contentName:t}=e;return(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsxs)("h1",{className:"text-3xl font-bold text-purple-800 mb-4",children:["Failed to load ",t]}),(0,n.jsx)("p",{className:"text-xl text-purple-600",children:"Please try again later"})]})}},3034:function(e,t,a){var n=a(57437);a(2265),t.Z=()=>(0,n.jsx)("footer",{className:"bg-purple-100 p-8",children:(0,n.jsxs)("div",{className:"max-w-7xl mx-auto grid grid-cols-2 md:grid-cols-4 gap-8",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"font-bold mb-2 text-purple-800",children:"Ultra"}),(0,n.jsxs)("ul",{className:"space-y-2",children:[(0,n.jsx)("li",{children:(0,n.jsx)("a",{href:"/dashboard",className:"text-purple-700 hover:text-purple-900 transition-colors",children:"Dashboard"})}),(0,n.jsx)("li",{children:(0,n.jsx)("a",{href:"/markets",className:"text-purple-700 hover:text-purple-900 transition-colors",children:"Markets"})})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"font-bold mb-2 text-purple-800",children:"Help"}),(0,n.jsxs)("ul",{className:"space-y-2",children:[(0,n.jsx)("li",{children:(0,n.jsx)("a",{href:"/user-docs",className:"text-purple-700 hover:text-purple-900 transition-colors",children:"User Docs"})}),(0,n.jsx)("li",{children:(0,n.jsx)("a",{href:"/faq",className:"text-purple-700 hover:text-purple-900 transition-colors",children:"FAQ"})})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"font-bold mb-2 text-purple-800",children:"Community"}),(0,n.jsx)("ul",{className:"space-y-2",children:(0,n.jsx)("li",{children:(0,n.jsx)("a",{href:"https://github.com/your-repo",className:"text-purple-700 hover:text-purple-900 transition-colors",children:"Github"})})})]})]})})},42464:function(e,t,a){a.d(t,{Z:function(){return d}});var n=a(57437),s=a(2265),r=a(27648),l=a(67872),o=()=>(0,n.jsx)("div",{children:(0,n.jsx)(l.NL,{label:"Connect wallet",locale:"en-US"})}),i=a(26298),u=a(48614),d=()=>{let[e,t]=(0,s.useState)(!1);return(0,n.jsxs)("header",{className:"sticky top-0 z-50 backdrop-blur-md bg-purple-100/80 border-b border-purple-200",children:[(0,n.jsxs)("nav",{className:"flex justify-between container mx-auto p-6",children:[(0,n.jsxs)("div",{className:"flex gap-8 items-center",children:[(0,n.jsx)(i.E.div,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center",children:(0,n.jsx)(r.default,{href:"/",className:"text-3xl pb-1 font-bold bg-gradient-to-r from-purple-800 to-purple-600 bg-clip-text text-transparent",children:"Core"})}),(0,n.jsx)(i.E.button,{className:"lg:hidden p-2 rounded-lg hover:bg-purple-200/50",onClick:()=>t(!e),"aria-label":"Toggle menu",whileTap:{scale:.9},children:(0,n.jsx)("svg",{className:"w-6 h-6 text-purple-800",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:e?(0,n.jsx)("path",{d:"M6 18L18 6M6 6l12 12"}):(0,n.jsx)("path",{d:"M4 6h16M4 12h16M4 18h16"})})}),(0,n.jsx)("div",{className:"hidden lg:flex gap-8 items-center",children:["Markets","Dashboard"].map(e=>(0,n.jsx)(i.E.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:(0,n.jsxs)(r.default,{href:"/".concat(e.toLowerCase()),className:"text-xl text-purple-800 hover:text-purple-600 transition-colors duration-200 relative group",children:[e,(0,n.jsx)("span",{className:"absolute -bottom-1 left-0 w-0 h-0.5 bg-purple-600 transition-all duration-300 group-hover:w-full"})]})},e))})]}),(0,n.jsx)("div",{className:"flex items-center",children:(0,n.jsx)(o,{})})]}),(0,n.jsx)(u.M,{children:e&&(0,n.jsx)(i.E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"lg:hidden absolute left-0 right-0 backdrop-blur-lg bg-purple-100/95 shadow-lg border-b border-purple-200",children:(0,n.jsx)(i.E.div,{className:"container mx-auto px-6 py-4 flex flex-col gap-4",variants:{open:{transition:{staggerChildren:.1}},closed:{transition:{staggerChildren:.05}}},initial:"closed",animate:"open",children:["Markets","Dashboard"].map(e=>(0,n.jsx)(i.E.div,{variants:{open:{x:0,opacity:1},closed:{x:-20,opacity:0}},children:(0,n.jsx)(r.default,{href:"/".concat(e.toLowerCase()),className:"block text-xl text-purple-800 hover:text-purple-600 transition-all duration-200 hover:translate-x-2",onClick:()=>t(!1),children:e})},e))})})})]})}},80264:function(e,t,a){a.d(t,{Z:function(){return s}});var n=a(57437);function s(e){let{contentName:t}=e;return(0,n.jsxs)("div",{className:"flex flex-col items-center justify-center h-[calc(100vh-180px)] text-center",children:[(0,n.jsxs)("h1",{className:"text-3xl font-bold text-purple-800 mb-4",children:["Loading ",t]}),(0,n.jsx)("p",{className:"text-xl text-purple-600",children:"Please wait while we fetch your data..."})]})}},8410:function(e,t,a){a.d(t,{Z:function(){return s}});var n=a(57437);function s(e){let{contentName:t}=e;return(0,n.jsxs)("div",{className:"flex flex-col items-center justify-center h-[calc(100vh-180px)] text-center max-w-2xl mx-auto space-y-8",children:[(0,n.jsxs)("h1",{className:"text-4xl md:text-5xl font-bold text-purple-800",children:["Welcome to ",t]}),(0,n.jsx)("p",{className:"text-xl md:text-2xl text-purple-600",children:"Please connect your wallet to view your positions."})]})}},36702:function(e,t,a){a.d(t,{Z:function(){return k}});var n=a(57437),s=a(2265),r=a(67872),l=a(68768),o=a(7261),i=a(39502),u=e=>{let{name:t,handleAmountChange:a,asset:s,amount:r,price:l,userBalance:o}=e;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("label",{className:"block text-sm font-medium mb-1",children:t}),(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)("input",{type:"number",value:r,onChange:a,className:"flex-grow border border-[#b8c0ff] rounded-l px-3 py-2 text-lg focus:outline-none focus:ring-2 focus:ring-[#c8b6ff]",placeholder:"0,00"}),(0,n.jsx)("span",{className:"bg-[#bbd0ff] px-3 py-2 rounded-r text-lg",children:s})]}),o?(0,n.jsxs)("p",{className:"text-sm text-gray-500",children:["Balance: ",(0,i.b)(o.value,o.decimals)," ",s]}):null,(0,n.jsxs)("p",{className:"text-sm text-gray-500",children:["â‰ˆ $",(parseFloat(r)*l).toFixed(2)]})]})},d=e=>{let{}=e;return(0,n.jsxs)("div",{className:"p-3  bg-[#e7c6ff] rounded-md flex items-center space-x-1",children:[(0,n.jsxs)("svg",{fill:"none",strokeWidth:"2",xmlns:"http://www.w3.org/2000/svg",color:"#3b82f6",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",viewBox:"0 0 24 24",height:"1em",width:"1em",style:{overflow:"visible",color:"#3b82f6"},children:[(0,n.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,n.jsx)("path",{d:"M12 16v-4M12 8h.01"})]}),(0,n.jsx)("p",{className:"text-left text-sm font-medium whitespace-nowrap",children:"To borrow you need to enable the asset as collateral before supply."})]})},c=e=>{let{address:t,isDisabled:a,isProcessing:s,handleAction:r,openConnectModal:l,buttonLabel:o}=e;return t?(0,n.jsx)("button",{className:"w-full py-3 rounded text-lg\n                    ".concat(a||s?"bg-gray-400 text-gray-600 cursor-not-allowed":"bg-[#c8b6ff] hover:bg-[#b8c0ff] text-white"),onClick:r,disabled:a||s,children:o}):(0,n.jsx)("button",{className:"w-full bg-[#c8b6ff] text-white py-3 rounded hover:bg-[#b8c0ff] text-lg",onClick:l,children:"Connect Wallet"})},p=a(37217),y=a(27526),m=a(77750),x=(e,t)=>{let{writeContract:a,isLoading:n,isSuccess:s,isError:r,error:l}=(0,y.S)();return{handleWriteSupply:async t=>{a({address:m.Oj,abi:m.Hk,functionName:"deposit",args:[null==e?void 0:e.address,t]})},isSupplying:n,isSupplySuccess:s,isSupplyError:r,supplyError:l}},b=a(17379),h=a(27323),f=(e,t)=>{let{data:a}=(0,b.K)({address:t,token:null==e?void 0:e.address}),{data:n}=(0,h.u)({address:null==e?void 0:e.address,abi:m.em,functionName:"allowance",args:[t,m.Oj],watch:!0}),{writeContract:s,isLoading:r,isSuccess:l,isError:o,error:i}=(0,y.S)();return{userBalance:a,userAllowance:n,handleWriteApproveSpending:async t=>{let a={address:null==e?void 0:e.address,abi:m.em,functionName:"approve",args:[m.Oj,t]};await s(a)},isApproving:r,isApproveSuccess:l,isApproveError:o,approveError:i}},v=e=>{let{title:t="Details",showCollateral:a=!1,useAsCollateral:s,onCollateralToggle:r,details:l=[]}=e;return(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsx)("h4",{className:"font-medium text-lg text-[#c8b6ff]",children:t}),a&&(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsx)("span",{children:"Use as collateral"}),(0,n.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,n.jsx)("input",{type:"checkbox",checked:s,onChange:r,className:"sr-only peer"}),(0,n.jsx)("div",{className:"w-11 h-6 bg-gray-200 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#c8b6ff]"})]})]}),(0,n.jsx)("div",{className:"space-y-2 text-sm",children:l.map((e,t)=>(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsx)("span",{children:e.label}),(0,n.jsx)("span",{children:e.value})]},t))})]})},w=e=>{let{market:t,address:a,healthFactor:r,openConnectModal:i}=e,[y,m]=(0,s.useState)(!1),[b,h]=(0,s.useState)("0.00"),[w,g]=(0,s.useState)(!1),{handleWriteSupply:j,isSupplying:T,isSupplySuccess:N,isSupplyError:k,supplyError:A}=x(t,a),{userBalance:F,userAllowance:S,handleWriteApproveSpending:C,isApproving:M,isApproveSuccess:B,isApproveError:E,approveError:D}=f(t,a),q=async()=>{if(!a){null==i||i();return}let e=(0,l.v)(b,t.decimals);(0,p.qh)(S)&&(0,p.qh)(e)&&(e>S?await C(e):await j(e))};(0,s.useEffect)(()=>{if(B&&(o.Am.success("Successfully approved spending!"),m(!1),null==S||S.toString()),E){let e=(null==D?void 0:D.message.includes("User rejected the request"))?"User rejected the request.":"Error supplying tokens: ".concat(null==D?void 0:D.message);o.Am.error("Error approving spending: ".concat(e))}},[B,E,D]),(0,s.useEffect)(()=>{if(N&&(o.Am.success("Supply successful!"),null==S||S.toString()),k){let e=(null==A?void 0:A.message.includes("User rejected the request"))?"User rejected the request.":"Error supplying tokens: ".concat(null==A?void 0:A.message);o.Am.error("Error supplying tokens: ".concat(e))}},[N,k,A]);let L=[{label:"Amount Supplied",value:"".concat(b," ").concat(t.asset)},{label:"",value:"$".concat((parseFloat(b)*t.price).toFixed(2))},{label:"LTV",value:"".concat(t.ltv,"%")},{label:"Increase in Borrow Limit",value:"TODO"},{label:"Supply APY",value:"".concat((null==t?void 0:t.supplyApy)||0,"%")}];return(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsx)(u,{handleAmountChange:e=>{let a=e.target.value;if(/^\d*\.?\d{0,18}$/.test(a)&&a>=0){h(a);let n=(0,l.v)(e.target.value,t.decimals);(0,p.qh)(S)&&(0,p.qh)(n)&&m(n>S)}},name:"Amount to deposit",asset:t.asset,amount:b,userBalance:F,price:t.price}),(0,n.jsx)(v,{showCollateral:!0,useAsCollateral:w,onCollateralToggle:()=>{g(!w)},details:L}),!w&&(0,n.jsx)(d,{}),(0,n.jsx)(c,{address:a,isDisabled:M,isProcessing:T,openConnectModal:i,buttonLabel:y?"Approve":M?"Approving...":T?"Supplying...":"Supply",handleAction:q}),(0,n.jsxs)("p",{children:["Current Allowance: ",null==S?void 0:S.toString()]})]})},g=e=>{let{market:t,address:a,healthFactor:r,openConnectModal:i}=e,[p,x]=(0,s.useState)("0.00"),[b,h]=(0,s.useState)(!1),[f,w]=(0,s.useState)(parseFloat(null==t?void 0:t.totalSupply)*(1-(null==t?void 0:t.reserveFactor))||0),{writeContract:g,isLoading:j,isSuccess:T,isError:N,error:k}=(0,y.S)(),A=async()=>{if(!a){null==i||i();return}let e=(0,l.v)(p,t.decimals);try{await g({address:m.Oj,abi:m.Hk,functionName:"borrow",args:[null==t?void 0:t.address,e]})}catch(e){o.Am.error("Borrow transaction failed")}};(0,s.useEffect)(()=>{if(T&&(o.Am.success("Borrow successful!"),w(parseFloat(null==t?void 0:t.totalSupply)*(1-(null==t?void 0:t.reserveFactor)))),N){let e=(null==k?void 0:k.message.includes("User rejected the request"))?"User rejected the request.":"Error supplying tokens: ".concat(null==k?void 0:k.message);o.Am.error("Error borrowing tokens: ".concat(e))}},[T,N,k]);let F=[{label:"Max to borrow",value:"".concat(f," ").concat(t.asset)},{label:"Borrow Limit",value:"$".concat((((null==t?void 0:t.totalSupply)*(null==t?void 0:t.ltv)/100||0)*t.price).toFixed(2))},{label:"Amount Borrowed",value:"".concat(p," ").concat(t.asset)},{label:"",value:"$".concat((parseFloat(p)*t.price).toFixed(2))},{label:"New Health Factor",value:((e,a,n)=>{let s=parseFloat(a)||0;return(parseFloat(null==t?void 0:t.totalBorrows)+s)/n*100||0})()},{label:"Total Borrowed",value:"".concat((null==t?void 0:t.totalBorrows)||0," ").concat(t.asset)},{label:"",value:"$".concat((((null==t?void 0:t.totalBorrows)||0)*t.price).toFixed(2))},{label:"Borrow APY",value:"".concat((null==t?void 0:t.borrowApy)||0,"%")}];return(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsx)(u,{handleAmountChange:e=>{let t=e.target.value;/^\d*\.?\d{0,18}$/.test(t)&&t>=0&&(x(t),0!==parseFloat(t)&&parseFloat(t)<=f&&parseFloat(r)>1.01?h(!0):h(!1))},name:"Amount to borrow",asset:t.asset,amount:p,price:t.price}),(0,n.jsx)(v,{details:F}),(0,n.jsx)(d,{}),(0,n.jsx)(c,{address:a,isDisabled:b,isProcessing:j,openConnectModal:i,buttonLabel:j?"Borrowing...":"Borrow",handleAction:A})]})},j=a(64707),T=e=>{let{market:t,address:a,healthFactor:r,openConnectModal:i}=e,[d,x]=(0,s.useState)("0.00"),[b,h]=(0,s.useState)(!1),[w,g]=(0,s.useState)(!1),[j,T]=(0,s.useState)(parseFloat(null==t?void 0:t.totalBorrows)||0),{userBalance:N,userAllowance:k,handleWriteApproveSpending:A,isApproving:F,isApproveSuccess:S,isApproveError:C,approveError:M}=f(t,a),{writeContract:B,isLoading:E,isSuccess:D,isError:q,error:L}=(0,y.S)(),U=async()=>{if(!a){null==i||i();return}let e=(0,l.v)(d,t.decimals);if((0,p.qh)(k)&&(0,p.qh)(e)){if(e>k)await A(e);else try{await B({address:m.Oj,abi:m.lK,functionName:"repay",args:[null==t?void 0:t.address,e]})}catch(e){o.Am.error("Repay transaction failed")}}};(0,s.useEffect)(()=>{if(S&&(o.Am.success("Successfully approved spending!"),h(!1),null==k||k.toString()),C){let e=(null==M?void 0:M.message.includes("User rejected the request"))?"User rejected the request.":"Error supplying tokens: ".concat(null==M?void 0:M.message);o.Am.error("Error approving spending: ".concat(e))}},[S,C,M]),(0,s.useEffect)(()=>{if(D&&(o.Am.success("Repay successful!"),T(parseFloat(null==t?void 0:t.totalBorrows)-parseFloat(d)),x("0.00")),q){let e=(null==L?void 0:L.message.includes("User rejected the request"))?"User rejected the request.":"Error repaying tokens: ".concat(null==L?void 0:L.message);o.Am.error(e)}},[D,q,L]);let R=[{label:"Available to Repay",value:"".concat(j," ").concat(t.asset)},{label:"Current Borrow Balance",value:"".concat((null==t?void 0:t.totalBorrows)||0," ").concat(t.asset)},{label:"",value:"$".concat((((null==t?void 0:t.totalBorrows)||0)*t.price).toFixed(2))},{label:"New Health Factor",value:(e=>{let a=parseFloat(e)||0,n=parseFloat(null==t?void 0:t.totalBorrows)-a;return n>0?parseFloat(null==t?void 0:t.totalSupply)*(null==t?void 0:t.ltv)/100/n*100:Number.MAX_SAFE_INTEGER})(d).toFixed(2)},{label:"Remaining Debt After Repayment",value:"".concat(Math.max(0,((null==t?void 0:t.totalBorrows)||0)-parseFloat(d))," ").concat(t.asset)},{label:"",value:"$".concat((Math.max(0,((null==t?void 0:t.totalBorrows)||0)-parseFloat(d))*t.price).toFixed(2))},{label:"Borrow APY",value:"".concat((null==t?void 0:t.borrowApy)||0,"%")}];return(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsx)(u,{handleAmountChange:e=>{let a=e.target.value;if(/^\d*\.?\d{0,18}$/.test(a)&&a>=0){x(a);let n=(0,l.v)(e.target.value,t.decimals);(0,p.qh)(k)&&(0,p.qh)(n)&&h(n>k),0!==parseFloat(a)&&parseFloat(a)<=j?g(!0):g(!1)}},name:"Amount to repay",asset:t.asset,amount:d,price:t.price}),(0,n.jsx)(v,{details:R}),(0,n.jsx)(c,{address:a,isDisabled:!w,isProcessing:E,openConnectModal:i,buttonLabel:b?"Approve":F?"Approving...":E?"Repay...":"Repay",handleAction:U}),(0,n.jsxs)("p",{children:["Current Allowance: ",null==k?void 0:k.toString()]})]})},N=e=>{let{market:t,address:a,healthFactor:r,openConnectModal:i}=e,[d,p]=(0,s.useState)("0.00"),[x,b]=(0,s.useState)(!1),[h,f]=(0,s.useState)(parseFloat(null==t?void 0:t.totalSupply)||0),w=e=>{let a=parseFloat(e)||0,n=parseFloat(null==t?void 0:t.totalSupply)-a;return 0===parseFloat(null==t?void 0:t.totalBorrows)?Number.MAX_SAFE_INTEGER:n*(null==t?void 0:t.ltv)/100/(null==t?void 0:t.totalBorrows)*100},{writeContract:g,isLoading:j,isSuccess:T,isError:N,error:k}=(0,y.S)(),A=async()=>{if(!a){null==i||i();return}let e=(0,l.v)(d,t.decimals);try{await g({address:m.Oj,abi:m.Hk,functionName:"withdraw",args:[null==t?void 0:t.address,e]})}catch(e){o.Am.error("Withdraw transaction failed")}};(0,s.useEffect)(()=>{if(T&&(o.Am.success("Withdraw successful!"),f(parseFloat(null==t?void 0:t.totalSupply)-parseFloat(d)),p("0.00")),N){let e=(null==k?void 0:k.message.includes("User rejected the request"))?"User rejected the request.":"Error withdrawing tokens: ".concat(null==k?void 0:k.message);o.Am.error(e)}},[T,N,k]);let F=Math.min(h,(null==t?void 0:t.totalBorrows)?h*(null==t?void 0:t.ltv)/100:h),S=[{label:"Available to Withdraw",value:"".concat(F.toFixed(6)," ").concat(t.asset)},{label:"",value:"$".concat((F*t.price).toFixed(2))},{label:"Current Supply Balance",value:"".concat((null==t?void 0:t.totalSupply)||0," ").concat(t.asset)},{label:"",value:"$".concat((((null==t?void 0:t.totalSupply)||0)*t.price).toFixed(2))},{label:"New Health Factor",value:w(d).toFixed(2)},{label:"Remaining Supply After Withdrawal",value:"".concat(Math.max(0,((null==t?void 0:t.totalSupply)||0)-parseFloat(d))," ").concat(t.asset)},{label:"",value:"$".concat((Math.max(0,((null==t?void 0:t.totalSupply)||0)-parseFloat(d))*t.price).toFixed(2))},{label:"Supply APY",value:"".concat((null==t?void 0:t.supplyApy)||0,"%")}];return(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsx)(u,{handleAmountChange:e=>{let t=e.target.value;if(/^\d*\.?\d{0,18}$/.test(t)&&t>=0){p(t);let e=w(t);0!==parseFloat(t)&&parseFloat(t)<=h&&e>=1?b(!0):b(!1)}},name:"Amount to withdraw",asset:t.asset,amount:d,price:t.price,maxAmount:F}),(0,n.jsx)(v,{details:S}),(0,n.jsx)(c,{address:a,isDisabled:!x,isProcessing:j,openConnectModal:i,buttonLabel:j?"Withdrawing...":"Withdraw",handleAction:A})]})},k=e=>{let{isOpen:t,onClose:a,market:l,healthFactor:o,activeTabName:i="supply"}=e,[u,d]=(0,s.useState)(i),{address:c}=(0,j.m)(),{openConnectModal:p}=(0,r.We)();return((0,s.useEffect)(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[t]),t&&l)?(0,n.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,n.jsxs)("div",{className:"bg-white rounded-lg p-6 w-[515px]",children:[(0,n.jsx)("div",{className:"mb-4",children:(0,n.jsxs)("div",{className:"flex justify-between border-b border-[#e7c6ff]",children:[(0,n.jsxs)("div",{className:"flex",children:[(0,n.jsx)("button",{className:"py-2 px-4 text-lg ".concat("supply"===u?"border-b-2 border-[#c8b6ff] text-[#c8b6ff]":"text-gray-600"),onClick:()=>d("supply"),children:"Supply"}),(0,n.jsx)("button",{className:"py-2 px-4 text-lg ".concat("borrow"===u?"border-b-2 border-[#c8b6ff] text-[#c8b6ff]":"text-gray-600"),onClick:()=>d("borrow"),children:"Borrow"}),(0,n.jsx)("button",{className:"py-2 px-4 text-lg ".concat("repay"===u?"border-b-2 border-[#c8b6ff] text-[#c8b6ff]":"text-gray-600"),onClick:()=>d("repay"),children:"Repay"}),(0,n.jsx)("button",{className:"py-2 px-4 text-lg ".concat("withdraw"===u?"border-b-2 border-[#c8b6ff] text-[#c8b6ff]":"text-gray-600"),onClick:()=>d("withdraw"),children:"Withdraw"})]}),(0,n.jsx)("button",{onClick:a,className:"text-gray-500 hover:text-gray-700 text-2xl px-4",children:"\xd7"})]})}),"supply"===u&&(0,n.jsx)(w,{market:l,address:c,healthFactor:o,openConnectModal:p}),"borrow"===u&&(0,n.jsx)(g,{market:l,address:c,healthFactor:o,openConnectModal:p}),"repay"===u&&(0,n.jsx)(T,{market:l,address:c,healthFactor:o,openConnectModal:p}),"withdraw"===u&&(0,n.jsx)(N,{market:l,address:c,healthFactor:o,openConnectModal:p})]})}):null}},77750:function(e,t,a){a.d(t,{Hk:function(){return r},Oj:function(){return n},_s:function(){return s},em:function(){return l},lK:function(){return o},yi:function(){return i}});let n="0xc5e0225eCBe9EA897848770DB78F8EccD0ae6F15",s=[{asset:"WETH",address:"0x4200000000000000000000000000000000000006",decimals:18,ltv:.75,cTokenAddress:"0x11daF26e5Ac90eA5fE8Cbc50A1c1418B4F01a970",baseRate:.05,reserveFactor:.1,price:2662.12},{asset:"LINK",address:"0xE4aB69C077896252FAFBD49EFD26B5D171A32410",ltv:.75,decimals:18,cTokenAddress:"0x6cC4983A79A45e74Ad31cb8326C44eEA628E7a35",baseRate:.05,reserveFactor:.1,price:1}],r=[{inputs:[{internalType:"address",name:"asset",type:"address"}],name:"getSupplyAPY",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"asset",type:"address"}],name:"getBorrowAPY",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"asset",type:"address"}],name:"getTotalBorrowed",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"asset",type:"address"}],name:"getBorrowLimit",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"asset",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"deposit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"asset",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"borrow",outputs:[],stateMutability:"nonpayable",type:"function"}],l=[{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint8"}],type:"function"},{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_value",type:"uint256"}],name:"approve",outputs:[{name:"",type:"bool"}],type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"},{name:"_spender",type:"address"}],name:"allowance",outputs:[{name:"",type:"uint256"}],type:"function"}],o=[{inputs:[{internalType:"address",name:"user",type:"address"}],name:"getAccountInformation",outputs:[{internalType:"uint256",name:"borrowedValueInUSD",type:"uint256"},{internalType:"uint256",name:"collateralValueInUSD",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"healthFactor",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"getUSDValue",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"s_tokenToCToken",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract ISwapRouter",name:"_swapRouter",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"token",type:"address"},{indexed:!0,internalType:"address",name:"priceFeed",type:"address"},{indexed:!0,internalType:"address",name:"cToken",type:"address"}],name:"AllowedTokenSet",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"token",type:"address"},{indexed:!0,internalType:"uint256",name:"amount",type:"uint256"}],name:"Borrow",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"repayToken",type:"address"},{indexed:!0,internalType:"address",name:"rewardToken",type:"address"},{indexed:!1,internalType:"uint256",name:"halfDebtInEth",type:"uint256"},{indexed:!0,internalType:"address",name:"liquidator",type:"address"}],name:"Liquidate",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"token",type:"address"},{indexed:!0,internalType:"uint256",name:"amount",type:"uint256"}],name:"Deposit",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"token",type:"address"},{indexed:!0,internalType:"uint256",name:"amount",type:"uint256"}],name:"Repay",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"token",type:"address"},{indexed:!0,internalType:"uint256",name:"amount",type:"uint256"}],name:"Withdraw",type:"event"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"deposit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"borrow",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"repay",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"cTokenAmount",type:"uint256"}],name:"withdraw",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"address",name:"repayToken",type:"address"},{internalType:"address",name:"rewardToken",type:"address"}],name:"liquidate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"getAccountInformation",outputs:[{internalType:"uint256",name:"borrowedValueInUSD",type:"uint256"},{internalType:"uint256",name:"collateralValueInUSD",type:"uint256"}],stateMutability:"view",type:"function"}],i=[{inputs:[{internalType:"address",name:"user",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalBorrows",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"exchangeRateStored",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"supplyRatePerBlock",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"borrowRatePerBlock",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOfUnderlying",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"borrowBalanceCurrent",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"}]},50210:function(e,t,a){a.d(t,{Z:function(){return i}});var n=a(16986),s=a(2265),r=a(77750);let l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r._s;return{marketData:t.map(t=>({cTokenData:["totalSupply","totalBorrows","exchangeRateStored"].map(e=>({address:t.cTokenAddress,abi:r.yi,functionName:e})),usdValue:{address:r.Oj,abi:r.lK,functionName:"getUSDValue",args:[t.address,1e8]},cTokenAddress:{address:r.Oj,abi:r.lK,functionName:"s_tokenToCToken",args:[t.address]},totalCollateral:{address:t.address,abi:r.yi,functionName:"balanceOf",args:[t.cTokenAddress]},userSupply:{address:t.cTokenAddress,abi:r.yi,functionName:"balanceOfUnderlying",args:[e]},userBorrow:{address:t.cTokenAddress,abi:r.yi,functionName:"borrowBalanceCurrent",args:[e]}})),accountInfo:{address:r.Oj,abi:r.lK,functionName:"getAccountInformation",args:[e]},healthFactor:{address:r.Oj,abi:r.lK,functionName:"healthFactor",args:[e]}}},o=e=>[...e.marketData.flatMap(e=>[...e.cTokenData,e.usdValue,e.cTokenAddress,e.totalCollateral,e.userSupply,e.userBorrow]),e.accountInfo,e.healthFactor];var i=(e,t)=>{let{contractCalls:a,flattenedCalls:r}=(0,s.useMemo)(()=>({contractCalls:e?l(e):{},flattenedCalls:e?o(l(e)):[]}),[e]),{data:i,isError:u,isLoading:d}=(0,n.N)({contracts:r,watch:!0,enabled:!!e}),c=(0,s.useMemo)(()=>e&&i?t(i):null,[e,i,t]);return{isError:u,isLoading:d||!!e&&!i,processedData:c}}},37217:function(e,t,a){a.d(t,{Zr:function(){return l},jN:function(){return i},M6:function(){return o},qh:function(){return r}});var n=a(39502),s=a(77750);function r(e){return"bigint"==typeof e}function l(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:18,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;return null==e?"0.00":Number((0,n.b)(e,t)).toFixed(a)}let o=e=>{if(!e)return{updatedMarkets:[],newHealthFactor:0,allSuppliedAssetsValue:0,allBorrowedAssetsValue:0};let t=0,a=0;return{updatedMarkets:s._s.map((n,s)=>{var r;let o=8*s,i=l(e[o].result),u=l(e[o+1].result),d=l(e[o+2].result),c=l(e[o+3].result,8);return t+=i*c,a+=u*c,{...n,totalSupply:i,totalBorrows:u,exchangeRate:d,price:c,cTokenAddress:e[o+4].result,totalCollateral:l(e[o+5].result),supplyApy:function(e){let t=0!==e.totalCollateral?0:e.totalBorrows/e.totalSupply;return(e.baseRate+.2*t)*t*(1-e.reserveFactor)*100}(n),borrowApy:100*(r=0!==n.totalCollateral?0:n.totalBorrows/n.totalSupply,n.baseRate+.2*r)}}),newHealthFactor:Number((0,n.b)(e[11].result,18)),allSuppliedAssetsValue:t,allBorrowedAssetsValue:a}},i=e=>{if(!e)return{userPositions:{},overallPosition:{supplied:0,borrowed:0,availableToBorrow:0,healthFactor:0}};let t={},a=0,r=0;s._s.forEach((s,l)=>{var o,i;let u=8*l,[d,c,p]=e.slice(u,u+3),y=Number((0,n.b)(e[u+3].result,8));e[u+4].result,e[u+5].result;let m=Number((0,n.b)(null===(o=e[u+6])||void 0===o?void 0:o.result,18)||0),x=Number((0,n.b)(null===(i=e[u+7])||void 0===i?void 0:i.result,18)||0);a+=m*y,r+=x*y,t[s.asset]={supplied:m,borrowed:x,usdValue:y,apy:0}});let l=e[e.length-2].result,o=e[e.length-1].result,i=.75*(0,n.b)(l[1],18);return{userPositions:t,overallPosition:{supplied:a,borrowed:r,availableToBorrow:i,totalRewards:99,healthFactor:o}}}}}]);