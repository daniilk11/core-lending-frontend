(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7702],{53410:function(e,s,t){Promise.resolve().then(t.bind(t,43479))},43479:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return E}});var r=t(57437),l=t(2265),a=t(87803),d=t(64707),n=t(48909),i=t(80264),o=t(50210),c=t(55925),x=t(25854),h=t(55800),m=t(31930),p=t(52853);let u=e=>e<1e-7?"0.0000001":e.toFixed(6);var b=e=>{let{supplied:s,borrowed:t,totalRewards:l,healthFactor:a}=e;return(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:[(0,r.jsx)("h2",{className:"text-2xl font-semibold text-purple-800 mb-4",children:"Overall Position"}),(0,r.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-700",children:"Supplied"}),(0,r.jsxs)("p",{className:"text-2xl font-bold text-green-600",children:["$",s.toFixed(2)]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-700",children:"Borrowed"}),(0,r.jsxs)("p",{className:"text-2xl font-bold text-red-600",children:["$",t.toFixed(2)]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-700",children:"Total Rewards"}),(0,r.jsxs)("p",{className:"text-2xl font-bold text-blue-600",children:["$",u(l)]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-700",children:"Health Factor"}),(0,r.jsx)("p",{className:"text-2xl font-bold ".concat(a>=1.5?"text-green-600":a>=1.1?"text-yellow-400":"text-red-600"),children:a>99?"100":a})]})]}),a<1.2&&(0,r.jsx)("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-md",children:(0,r.jsxs)("p",{className:"text-sm text-red-600 flex items-center",children:[(0,r.jsx)("span",{className:"mr-2",children:"⚠️"}),"Warning: Your position is at risk of liquidation. Please repay debt or supply more collateral to increase your health factor."]})})]})},j=t(33145),g=e=>{let{asset:s,usdValue:t,type:l,supplied:a,borrowed:d,rewards:n,Logo:i,apr:o,onViewDetails:c}=e;return(0,r.jsxs)("tr",{className:"hover:bg-purple-50 transition-colors",children:[(0,r.jsx)("td",{className:"p-3 border-b",children:(0,r.jsxs)("span",{className:"flex items-center gap-2",children:[i&&(0,r.jsx)(i,{className:"w-6 h-6"}),(0,r.jsx)("div",{className:"text-base",children:s})]})}),(0,r.jsx)("td",{className:"p-3 border-b",children:(0,r.jsx)("span",{className:"inline-block text-xs py-1 px-2 rounded-md bg-green-200 text-green-900",children:l})}),(0,r.jsx)("td",{className:"p-3 border-b",children:(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"text-gray-500 text-sm",children:[(Number(a)||0).toFixed(5)," ",s]}),(0,r.jsxs)("div",{children:["$",(Number(t)*Number(a)||0).toFixed(3)]})]})}),(0,r.jsx)("td",{className:"p-3 border-b",children:(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"text-gray-500 text-sm",children:[(Number(d)||0).toFixed(5)," ",s]}),(0,r.jsxs)("div",{children:["$",(Number(t)*Number(d)||0).toFixed(3)]})]})}),(0,r.jsx)("td",{className:"p-3 border-b",children:(0,r.jsxs)("div",{className:"font-mono text-black",children:[(Number(o)||0).toFixed(2),"%"]})}),(0,r.jsx)("td",{className:"p-3 border-b",children:(0,r.jsxs)("div",{className:"font-mono text-black flex items-center",children:[(0,r.jsx)("span",{className:"mr-1",children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 18 18",fill:"none",children:(0,r.jsx)("path",{d:"M9.00004 11.0339H8.33337V8.36719H7.66671M8.33337 5.70052H8.34004M14.3334 8.36719C14.3334 11.6809 11.6471 14.3672 8.33337 14.3672C5.01967 14.3672 2.33337 11.6809 2.33337 8.36719C2.33337 5.05348 5.01967 2.36719 8.33337 2.36719C11.6471 2.36719 14.3334 5.05348 14.3334 8.36719Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})})}),"$",n]})}),(0,r.jsx)("td",{className:"p-3 border-b",children:(0,r.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,r.jsx)("button",{onClick:()=>c(s,"supply"),className:"px-3 py-1 text-sm font-semibold rounded-lg border border-purple-200 hover:bg-purple-50 transition-colors",children:"Supply"}),(0,r.jsx)("button",{onClick:()=>c(s,"withdraw"),className:"px-3 py-1 text-sm font-semibold rounded-lg border border-purple-200 hover:bg-purple-50 transition-colors",children:"Withdraw"}),(0,r.jsx)("button",{onClick:()=>c(s,"repay"),className:"px-3 py-1 text-sm font-semibold rounded-lg border border-purple-200 hover:bg-purple-50 transition-colors",children:"Repay"})]})})]})},f={src:"/core-lending-frontend//_next/static/media/weth_logo.7364cc5f.svg",height:38,width:38,blurWidth:0,blurHeight:0},N={src:"/core-lending-frontend//_next/static/media/usdc_logo.0b91fbb0.svg",height:40,width:40,blurWidth:0,blurHeight:0},w={src:"/core-lending-frontend//_next/static/media/chainlink_logo.e7467690.png",height:2307,width:2307,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAAjklEQVR42n2PQQ7CMAwEw6nXfIIK50fJa4oEUnst7wLEMf4CfQCc2rGlSjnV0kbr9crehL1SqT14S9GX5Nq3gwimVHSVrF/4Is7rCGJIuV5T1hXMCB2GDv4wTUodAs+d5heaoj+Zxux2ZPi7gdt+QpoTaLNrRQfcHnIElmOxkGjGJzbE9jdn8GTTh+Fl1zdv+2BRfpf6YgAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8};let v={WETH:e=>{let{className:s}=e;return(0,r.jsx)(j.default,{src:f,alt:"WETH Logo",className:s,width:24,height:24})},LINK:e=>{let{className:s}=e;return(0,r.jsx)(j.default,{src:w,alt:"LINK Logo",className:s,width:24,height:24})},USDC:e=>{let{className:s}=e;return(0,r.jsx)(j.default,{src:N,alt:"USDC Logo",className:s,width:24,height:24})}};var A=e=>{let{userPositions:s,onViewDetails:t}=e;return(0,r.jsxs)("div",{className:"flex flex-col space-y-6",children:[(0,r.jsx)("h1",{className:"text-2xl font-semibold mb-4 text-left text-purple-800 dark:text-grey-200",children:"Open Positions"}),(0,r.jsx)("div",{className:"overflow-x-auto bg-white rounded-lg shadow",children:(0,r.jsxs)("table",{className:"min-w-full",children:[(0,r.jsx)("thead",{className:"bg-purple-100",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"text-left p-3 font-semibold",children:"Asset"}),(0,r.jsx)("th",{className:"text-left p-3 font-semibold",children:"Type"}),(0,r.jsx)("th",{className:"text-left p-3 font-semibold",children:"Supplied"}),(0,r.jsx)("th",{className:"text-left p-3 font-semibold",children:"Borrowed"}),(0,r.jsx)("th",{className:"text-left p-3 font-semibold",children:"APR"}),(0,r.jsx)("th",{className:"text-left p-3 font-semibold",children:"Rewards"}),(0,r.jsx)("th",{className:"text-center p-3 font-semibold",children:"Action"})]})}),(0,r.jsx)("tbody",{children:Object.entries(s).map(e=>{let[s,l]=e;return(0,r.jsx)(g,{asset:s,usdValue:l.usdValue,type:"Core",supplied:l.supplied,borrowed:l.borrowed,rewards:0,Logo:v[s],apr:l.supplyAPR,onViewDetails:t},s)})})]})})]})};function k(e){let{processedData:s,onViewDetails:t}=e,{userPositions:l,overallPosition:a}=s;return(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-purple-100 to-white text-purple-900",children:(0,r.jsxs)("main",{className:"container mx-auto p-6",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-purple-800 mb-8",children:"Your Dashboard"}),(0,r.jsx)(b,{...a}),(0,r.jsx)(A,{userPositions:l,onViewDetails:t})]})})}let y={userPositions:{},overallPosition:{},marketsData:{},accountInfo:{}};function C(){let{modalState:e,openModal:s,closeModal:t}=(0,p.Z)(),{address:a,isConnected:u}=(0,d.m)(),[b,j]=(0,l.useState)(!0),{isError:g,isLoading:f,processedData:N=y}=(0,o.Z)(a,c.jN);return((0,l.useEffect)(()=>{j(!1)},[]),b)?null:u||m.MR.isTestMode?f&&!m.MR.isTestMode?(0,r.jsx)(i.Z,{contentName:"Dashboard"}):g&&!m.MR.isTestMode?(0,r.jsx)(x.Z,{contentName:"Dashboard"}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(k,{processedData:N,onViewDetails:(e,t)=>{s(N.marketsData[e],t)}}),e.selectedMarket&&(0,r.jsx)(h.Z,{isOpen:e.isOpen,onClose:t,market:e.selectedMarket,activeTabName:e.activeTab,healthFactor:N.overallPosition.healthFactor,accountInfo:N.accountInfo})]}):(0,r.jsx)(n.Z,{contentName:"Dashboard"})}var D=t(3034),E=()=>(0,r.jsxs)("div",{className:"min-h-screen bg-gradient-to-b from-purple-100 to-white text-purple-900",children:[(0,r.jsx)(a.default,{}),(0,r.jsx)(C,{}),(0,r.jsx)(D.Z,{})]})}},function(e){e.O(0,[9472,3090,4513,7261,1620,3145,1976,2971,2117,1744],function(){return e(e.s=53410)}),_N_E=e.O()}]);