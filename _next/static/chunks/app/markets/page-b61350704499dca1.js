(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1757],{87177:function(e,t,s){Promise.resolve().then(s.bind(s,67854))},67854:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return V}});var l=s(57437),r=s(2265),a=s(42464),i=s(36702);let o=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n=function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.filter((e,t,s)=>!!e&&s.indexOf(e)===t).join(" ")};var d={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let c=(0,r.forwardRef)((e,t)=>{let{color:s="currentColor",size:l=24,strokeWidth:a=2,absoluteStrokeWidth:i,className:o="",children:c,iconNode:u,...p}=e;return(0,r.createElement)("svg",{ref:t,...d,width:l,height:l,stroke:s,strokeWidth:i?24*Number(a)/Number(l):a,className:n("lucide",o),...p},[...u.map(e=>{let[t,s]=e;return(0,r.createElement)(t,s)}),...Array.isArray(c)?c:[c]])}),u=((e,t)=>{let s=(0,r.forwardRef)((s,l)=>{let{className:a,...i}=s;return(0,r.createElement)(c,{ref:l,iconNode:t,className:n("lucide-".concat(o(e)),a),...i})});return s.displayName="".concat(e),s})("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);var p=e=>{let{market:t,onViewDetails:s}=e;return(0,l.jsxs)("tr",{className:"border-b border-purple-100 hover:bg-purple-50 transition-colors",children:[(0,l.jsxs)("td",{className:"p-3 cursor-pointer",children:[(0,l.jsx)("div",{className:"font-bold text-purple-900",children:t.asset}),(0,l.jsxs)("div",{className:"text-sm text-purple-600",children:["$",Number(t.price).toFixed(2)]})]}),(0,l.jsx)("td",{className:"p-3 cursor-pointer",children:t.ltv}),(0,l.jsxs)("td",{className:"p-3 cursor-pointer",children:[t.supplyApy,"%"]}),(0,l.jsxs)("td",{className:"p-3 cursor-pointer",children:[(0,l.jsx)("div",{children:t.totalCollateral}),(0,l.jsxs)("div",{className:"text-sm text-purple-600",children:[t.totalCollateral," ",t.asset]})]}),(0,l.jsxs)("td",{className:"p-3 cursor-pointer",children:[t.borrowApy,"%"]}),(0,l.jsxs)("td",{className:"p-3 cursor-pointer",children:[(0,l.jsx)("div",{children:t.totalBorrows}),(0,l.jsxs)("div",{className:"text-sm text-purple-600",children:[t.totalBorrows," ",t.asset]})]}),(0,l.jsx)("td",{className:"p-3",children:(0,l.jsxs)("button",{onClick:()=>s(t),className:"text-purple-500 hover:text-purple-700 flex items-center",children:["View details",(0,l.jsx)(u,{size:38,className:"ml-1"})]})})]})},x=e=>{let{markets:t,handleViewDetails:s}=e;return(0,l.jsx)("div",{className:"overflow-x-auto bg-white rounded-lg shadow",children:(0,l.jsxs)("table",{className:"w-full",children:[(0,l.jsx)("thead",{className:"bg-purple-100",children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{className:"text-left p-3 w-1/4 font-semibold",children:"Asset"}),(0,l.jsx)("th",{className:"text-left p-3 font-semibold",children:"LTV"}),(0,l.jsx)("th",{className:"text-left p-3 font-semibold",children:"Supply APY"}),(0,l.jsx)("th",{className:"text-left p-3 font-semibold",children:"Total Supply"}),(0,l.jsx)("th",{className:"text-left p-3 font-semibold",children:"Borrow APY"}),(0,l.jsx)("th",{className:"text-left p-3 font-semibold",children:"Total Borrowed"}),(0,l.jsx)("th",{className:"text-left p-3 font-semibold"})]})}),(0,l.jsx)("tbody",{children:t.map((e,t)=>(0,l.jsx)(p,{market:e,onViewDetails:s},t))})]})})},m=s(77750);let h=()=>{let[e,t]=(0,r.useState)(m._s),[s,l]=(0,r.useState)({allSuppliedAssetsValue:0,allBorrowedAssetsValue:0,marketsSize:0});return{markets:e,setMarkets:t,marketsOverView:s,updateAssetValues:(e,t)=>{l({allSuppliedAssetsValue:e,allBorrowedAssetsValue:t,marketsSize:e+t})}}};var j=e=>{let{title:t,value:s}=e;return(0,l.jsxs)("div",{className:"bg-purple-50 p-4 rounded shadow-sm",children:[(0,l.jsx)("h2",{className:"font-semibold text-purple-700",children:t}),(0,l.jsxs)("p",{className:"text-2xl font-bold text-purple-900",children:["$",s.toLocaleString()]})]})},N=e=>{let{marketsOverView:t}=e;return(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-10",children:[(0,l.jsx)(j,{title:"Markets Size",value:t.marketsSize}),(0,l.jsx)(j,{title:"Total Supply",value:t.allSuppliedAssetsValue}),(0,l.jsx)(j,{title:"Total Borrow",value:t.allBorrowedAssetsValue}),(0,l.jsx)(j,{title:"Reserve",value:0})," "]})},f=()=>(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-4xl font-bold text-purple-700 mb-6",children:"Markets"}),(0,l.jsx)("p",{className:"mb-8 text-lg text-purple-700",children:"Supply to receive interest or borrow to get liquidity. Maximize your earnings as a Liquidity Provider."})]}),v=s(80264),w=s(64707),b=s(50210),g=s(37217),k=s(8410),A=s(25854),S=()=>{var e,t,s;let[a,o]=(0,r.useState)(!1),[n,d]=(0,r.useState)(!1),[c,u]=(0,r.useState)(null),{address:p,isConnected:m}=(0,w.m)();(0,r.useEffect)(()=>{o(!0)},[]);let{markets:j,setMarkets:S,marketsOverView:y,updateAssetValues:V}=h(),{isError:B,isLoading:C,processedData:E}=(0,b.Z)(p,g.M6),M=null!==(e=null==E?void 0:E.newHealthFactor)&&void 0!==e?e:null,Z=null!==(t=null==E?void 0:E.allSuppliedAssetsValue)&&void 0!==t?t:0,z=null!==(s=null==E?void 0:E.allBorrowedAssetsValue)&&void 0!==s?s:0;return((0,r.useEffect)(()=>{var e;E&&(S(null!==(e=null==E?void 0:E.updatedMarkets)&&void 0!==e?e:[]),V(Z,z))},[E]),a)?m?C?(0,l.jsx)(v.Z,{contentName:"Markets"}):B?(0,l.jsx)(A.Z,{contentName:"Markets"}):(0,l.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-purple-100 to-white text-purple-900",children:(0,l.jsxs)("main",{className:"container mx-auto p-6",children:[c&&(0,l.jsx)(i.Z,{isOpen:n,onClose:()=>d(!1),market:c,healthFactor:M}),(0,l.jsx)(f,{}),(0,l.jsx)(N,{marketsOverView:y}),(0,l.jsx)(x,{markets:j,handleViewDetails:e=>{u(e),d(!0)}})]})}):(0,l.jsx)(k.Z,{contentName:"Markets"}):null},y=s(3034),V=()=>(0,l.jsxs)("div",{className:"min-h-screen bg-gradient-to-b from-purple-100 to-white text-purple-900",children:[(0,l.jsx)(a.Z,{}),(0,l.jsx)(S,{}),(0,l.jsx)(y.Z,{})]})}},function(e){e.O(0,[9472,2091,1323,4279,2971,2117,1744],function(){return e(e.s=87177)}),_N_E=e.O()}]);